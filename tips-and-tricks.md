# ヒントとコツ

このドキュメントには、Copilot Workspace を効果的に使用するためのさまざまなヒントとコツが含まれています。あなたのヒントやコツもぜひお聞かせください！[フィードバックチャンネル](README.md#feedback)で共有してください。

## Issue またはタスクを編集する

✨ ヒント: Copilot Workspace をガイドするために Issue またはタスクを編集できます。

Issue / Task パネルは、Copilot Workspace に入る方法に応じてコンテンツが事前に入力されている場合があります。たとえば、Issue から開始した場合、Issue パネルには Issue の内容が事前に入力されます。このコンテンツは一時的なものであり、編集内容は Issue に同期されないため、より多くのコンテキストを提供したり、Copilot Workspace をより良い結果に導くために自由に編集してください。

## タスクは短くても大丈夫！

✨ ヒント: 「ユニットテストを追加する」などのシンプルなタスクの効果に驚くかもしれません。

タスクは長くある必要はありません。「Python の numpy を使用するように切り替える」や「サーバーコードのユニットテストを追加する」などのシンプルで明確な意図の表明は、大いに役立ちます。簡単に追加の説明を加えたり、反復することができます。

## Issue またはタスクを明確にする

✨ ヒント: 数語の説明が大きな違いを生むことがあります！

数語の説明を加えるだけで、得られる結果の品質に大きな違いが生まれます。たとえば、

* _`test/server` に対応するユニットテストを追加する_ や

* _問題は畳み込みコードにあります_ や

* _既存のコードを変更せずにユニットテストを追加する_

などの説明が役立ちます。これらの説明を自由に使用してください！

## 例を使用することを検討する

✨ ヒント: 望むものの例を示すことは、タスクを明確にするための素晴らしい方法です。

たとえば、次のように言うことができます：_変更後に動作するはずのコマンドライン呼び出しの例をいくつか示します..._ そしていくつかの例を示します。または、次のように言うことができます：_期待される出力の例をいくつか示します..._ そしていくつかの例を示します。

## トピックと仕様を確認する

✨ ヒント: トピックと仕様を確認してください - それらが正確であれば、Copilot Workspace は正しい方向に進んでいます。

トピックは、リポジトリのコンテキストでタスクを分析した Copilot Workspace の最初の一瞥です。その後、現在の仕様が続き、次に更新された仕様が続きます。これらが正確であれば、Copilot Workspace は正しい方向に進んでいます。そうでない場合は、Issue / Task パネルでより多くのコンテキスト、説明、およびヒントを提供する必要があるか、Copilot Workspace の現在の能力を超えることを行っている可能性があります。

これらをすべて編集して修正することができ、迅速に確認することで多くの時間を節約できます。また、Issue またはタスクを明確にして再試行することもできます。

## コンテンツの選択を確認する

✨ ヒント: コンテンツの選択を確認し、Issue またはタスクでどこを参照するかを短いメモで示す

[使用されるコンテンツの選択を確認](overview.md#content-selection)できます。多くの場合、コンテンツの選択を改善でき、現在は自然言語と Issue / Task のメモを通じてこれを行います。変更が必要なコードの場所がわかっている場合は、Issue / Task パネルでその場所を示すことができます。たとえば、次のように言うことができます：_`src/server.js` を参照してください_ などの多くのバリエーションがあります。

タスクに対処する方法を決定するために、Copilot Workspace はリポジトリ内のどのファイルがタスクに関連しているかを特定する必要があります。これは難しく、Copilot Workspace は常に正しいファイルを選択するわけではありません。その場合、低品質の結果が表示されることがあります。

選択されたファイルを確認するには、仕様パネルで「参照を表示」ボタンをクリックします：

<img src="images/overview/references.png" width=600 alt="参照ダイアログを表示">

Copilot Workspace をより良いファイル選択に導くために、Issue / Task パネルでファイル名、ディレクトリ名などを言及することができます。通常の Issue を書くように自然に書いてください。

## 最初にうまくいかない場合は...

✨ ヒント: 仕様または計画を再生成してみてください

結果に満足していない場合は、仕様や計画を再生成してみてください。これを行うには、仕様または計画パネルで「再生成」ボタンをクリックします：

<img src="images/tips-and-tricks/regen.png" width=600 alt="再生成ボタン">

## 実装の反復

✨ ヒント: 計画のファイルに短いメモを追加し、反復する

多くの場合、Copilot Workspace はタスクを*ほぼ正しく*処理しますが、一部の部分で問題が発生することがあります。この場合、新しい指示や追加の指示を使用して特定のファイルを再実装できます。コードを実装してレビューした後、計画パネルでファイルを選択し、箇条書きを追加してから「選択したファイルを更新」ボタンをクリックして、新しい指示でそのファイルを再実装します。

<img src="images/overview/file-iteration.png" width=600 alt="選択したファイルの更新フロー">

## 新しいファイルを追加して反復する

✨ ヒント: 新しいファイルを追加して実装を反復できます

実装に新しいファイルを追加する必要がある場合は、計画パネルで「ファイルを追加」ボタンをクリックして追加できます。これにより、計画に新しいファイルが追加され、そのファイルを実装して反復できます。

## 新しいファイルを生成することを検討する

✨ ヒント: 既存のファイルに追加するよりも新しいファイルを生成する方が良い場合があります

この Copilot Workspace の技術プレビューでは、「全ファイルの書き換え」を使用しています。これは、Copilot Workspace にファイルにコードを追加するように依頼すると、新しいコードでファイル全体が置き換えられることを意味します。ユニットテストの作成やドキュメントの生成、新しい実装コードの生成などのタスクを実行する場合、新しいファイルを生成してから名前を変更する方が簡単で迅速です。

## 早期に共有し、頻繁に共有する

✨ ヒント: Copilot Workspace プレビューの一部ではない人々ともセッションをいつでも共有できます。

画面の右上隅にある「共有」ボタンをクリックして、Copilot Workspace セッションを他の人と共有できます。これにより、他の人と共有できるリンクが生成されます。これらのリンクは、Copilot Workspace プレビューの一部ではないゲストとも共有できます。セッションを表示するには、GitHub アカウントでログインする必要があります。

共有セッションは元のセッションのコピーです。非ゲストユーザーは、タスクを続行したり、元のセッションに干渉せずに代替ソリューションを探索するための出発点として使用できます。ゲストユーザーはセッションを表示できますが、ワークスペースを使用して変更を加えることはできません。

<img src="images/overview/share-link.png" width=200 alt="共有ボタン">

## セッションを使用する

✨ ヒント: いつでも作業に戻ることができます

セッションは自動的に保存されるため、ブラウザを閉じたりページから離れたりしても作業が失われることはありません。セッションに戻るには、[Copilot Workspace ダッシュボード](https://copilot-workspace.githubnext.com)にアクセスしてください。

## リポジトリのターミナルを設定する

✨ ヒント: リポジトリに `devcontainer.json` ファイルを設定してターミナルを構成する

Copilot Workspace が提案するコード変更を検証できるように、組み込みのターミナルを提供しています。このターミナルを提供するために GitHub Codespaces を使用しており、ターミナルを駆動するコンテナを構成するためにリポジトリの `devcontainer.json` ファイルを使用しています。必要なソフトウェアをインストールするなど、デフォルトのコンテナに変更を加える必要がある場合は、リポジトリに `devcontainer.json` ファイルを作成して変更を加えることができます。開発コンテナの詳細については、https://containers.dev/ を参照してください。

## コードスペースを使用する

✨ ヒント: コードスペースでの完全な編集は簡単で迅速です

変更されたファイルは Copilot Workspace とターミナル / コードスペースの間で双方向に同期されます。どちらの場所でも自由に編集でき、変更は他方に反映されます。

詳細については、[コードスペースガイド](./codespaces-guide.md)を参照してください。

## 実験を探索する！

✨ ヒント: 実験を探索し、フィードバックをお送りください！

Copilot Workspace では常に新しいことを試みています。画面の右上隅にあるアバターをクリックし、「実験」を選択することで、現在の実験にオプトインできます：

<img src="images/tips-and-tricks/experiments.png" width=200 alt="実験セレクター">

## モデルの「怠惰」を回避する

✨ ヒント: モデルが「怠惰」で編集されたファイルの一部を省略する場合、差分から欠落している部分をコピーして貼り付ける

時々、モデルは「怠惰」で編集されたファイルの一部を省略することがあります。このような場合、差分の左側から欠落している部分をコピーして右側に貼り付けることができます。理想的ではないことはわかっていますが、この問題に取り組んでいます。

## Copilot Workspace でコードを編集する

✨ ヒント: ファイルごとにコードエディタで直接編集を行う

Copilot Workspace が提案を生成すると、それは実装パネルに表示されます。しかし、それらの提案は読み取り専用ではありません！編集して変更を加えることができます。

<img src="images/tips-and-tricks/code-editor.png" width=300 alt="Copilot Workspace でコードを編集する">

GitHub Codespace を開いている場合、それらの編集は Copilot Workspace と GitHub Codespace の間で同期されます！

## 戻る必要がありますか？

✨ ヒント: 元に戻すおよびやり直しボタンを使用して、ワークスペースの古い状態と新しい状態の間を移動できます。

元に戻すおよびやり直しボタンを使用して、ワークスペースの以前の状態に戻ることができます。これには、実装の元に戻しや、仕様や計画に加えた追加や調整が含まれます。

<img src="images/tips-and-tricks/undo-redo.png" width=300 alt="Copilot Workspace で状態を変更するために元に戻すおよびやり直しを使用する">

## 外出先で？モバイルで Copilot Workspace を試してみてください

✨ ヒント: Copilot Workspace はモバイルフレンドリーなので、外出先での変更を検討してください！

アイデアはどこでも生まれることがあります。デスクにいるとき、コーヒーショップにいるとき、バスに乗っているときなど、創造性のひらめきがあれば、モバイルから Copilot Workspace を使用してアイデアを探求できます！タスクを完全に完了していない場合でも、Copilot Workspace のダッシュボードを使用して中断した場所から再開できます。

また、いつでも簡単に Copilot Workspace にアクセスできるように、次の手順を実行してモバイルのホーム画面に追加できます：

1. モバイルブラウザを開き、[https://copilot-workspace.githubnext.com](https://copilot-workspace.githubnext.com) の Copilot Workspace ダッシュボードにアクセスします。
2. ダッシュボードが読み込まれたら、ブラウザのメニューをタップし、「ホーム画面に追加」を選択して、ホーム画面から簡単に Copilot Workspace にアクセスできるようにします。
3. プロンプトが表示されたらアクションを確認し、Copilot Workspace がホーム画面に追加され、PWA サポートのおかげでネイティブアプリのような体験が提供されます。

## OAuth を取り消した場合のアクセスの再取得

Copilot Workspace は OAuth アプリケーションとして実装されています。GitHub アカウント設定でアプリケーションの承認を取り消した場合、Workspace を使用できなくなります。https://copilot-workspace.githubnext.com/ にアクセスしてログアウトし、再度ログインして OAuth アプリを再承認することでアクセスを復元できます。

## 受信リンク

✨ ヒント: Copilot Workspace には、リポジトリ、ブランチ、またはプルリクエストが対象の場合に、クエリパラメータによってタスクを指定する機能があります。

```
https://copilot-workspace.githubnext.com/githubnext/copilot-workspace/pull/695?task=Add%20more%20unit%20tests%20to%20this%20pull%20request.```
```

サポートされているクエリパラメータは次のとおりです：

- `task` - タスクの説明。指定されていない場合、対象が Issue であれば Issue の本文が使用されます。それ以外の場合、タスク本文は使用されず、ユーザーが入力する必要があります。
- `codeOwner` - Issue に関連するコードリポジトリの組織または個人。例：`githubnext` は `githubnext/copilot-workspace` の場合
- `codeRepo` - Issue に関連するコードリポジトリの名前。例：`copilot-workspace` は `githubnext/copilot-workspace` の場合
- `branch` - タスクを分析する SHA またはブランチ名。例：`main`
